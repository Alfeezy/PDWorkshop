#N canvas 346 23 750 715 10;
#X text 14 15 Advanced Computer Music Composition;
#X text 58 84 We can sample sounds using set messages to play them
back forward and backward (at differing speeds) but it is nice to have
that kind of control in real-time.;
#X msg 34 140 bang;
#X obj 34 162 openpanel;
#X msg 34 184 read -resize \$1 sample;
#X obj 34 205 soundfiler;
#X floatatom 34 227 10 0 0 0 - - -, f 10;
#X text 102 227 resize to read all samples;
#X text 182 183 choose a short sample (< 3 seconds);
#X obj 34 277 expr 44100 / $f1;
#X text 139 278 calculate number of seconds/sample;
#X obj 180 307 hsl 128 15 -2 2 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X text 320 306 playback speed (-2 to 2);
#X text 320 327 0 = stop \, 2 = twice as fast \, -2 = twice/slow;
#X floatatom 150 388 5 0 0 0 - - -, f 5;
#X obj 177 360 t b f;
#X obj 150 419 *;
#X text 178 421 calculate frequency of sawtooth wave;
#X floatatom 150 449 5 0 0 0 - - -, f 5;
#X obj 150 519 *~;
#X obj 63 252 s num_samples;
#X obj 165 496 r num_samples;
#X obj 150 555 tabread4~ sample;
#X obj 270 621 *~;
#X obj 289 596 line~;
#X msg 289 571 0 1000;
#X msg 341 571 0.75 1000;
#X obj 270 644 hip~ 5;
#X text 318 643 remove "DC offset";
#X obj 270 671 dac~;
#X text 417 572 on/off;
#N canvas 0 22 450 278 (subpatch) 0;
#X array sample 125356 float 0;
#X coords 0 1 125355 -1 200 140 1;
#X restore 472 129 graph;
#X msg 359 238 \; sample normalize;
#X text 204 475 sawtooth wave will loop playback;
#X floatatom 177 343 5 0 0 0 - - -, f 5;
#X obj 150 474 phasor~;
#X text 14 38 Class 13 - variable speed playback;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 9 0;
#X connect 6 0 20 0;
#X connect 9 0 14 0;
#X connect 11 0 34 0;
#X connect 14 0 16 0;
#X connect 15 0 14 0;
#X connect 15 1 16 1;
#X connect 16 0 18 0;
#X connect 18 0 35 0;
#X connect 19 0 22 0;
#X connect 21 0 19 1;
#X connect 22 0 23 0;
#X connect 23 0 27 0;
#X connect 24 0 23 1;
#X connect 25 0 24 0;
#X connect 26 0 24 0;
#X connect 27 0 29 0;
#X connect 27 0 29 1;
#X connect 34 0 15 0;
#X connect 35 0 19 0;
